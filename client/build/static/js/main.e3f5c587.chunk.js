(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{38:function(e,a,t){e.exports=t.p+"static/media/avanza.805d3904.png"},39:function(e,a,t){e.exports=t.p+"static/media/xenia.2013f01a.png"},40:function(e,a,t){e.exports=t.p+"static/media/innova.a9145a0e.png"},41:function(e,a,t){e.exports=t.p+"static/media/innova-reborn.98fd7a70.png"},42:function(e,a,t){e.exports=t.p+"static/media/elf-short.b78f4338.jpg"},43:function(e,a,t){e.exports=t.p+"static/media/elf-long.c4f4b445.jpg"},44:function(e,a,t){e.exports=t.p+"static/media/ho-ace.9b3d0cee.jpg"},49:function(e,a,t){e.exports=t(75)},54:function(e,a,t){},56:function(e,a,t){},75:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),i=t(33),c=t.n(i),r=(t(54),t(55),t(34)),o=t(35),s=t(47),m=t(36),u=t(48),p=t(12),b=(t(56),t(76)),d=t(77),f=t(37),g=function(e){return l.a.createElement("div",null,l.a.createElement(b.a,{noGutters:!0,className:"text-center align-items-center mb-cta"},l.a.createElement(d.a,null,l.a.createElement("p",{className:"looking-for-mb"},"Sewa Mobil Nahwa",l.a.createElement("i",{className:"fas fa-mb-slice mb-slice"})),l.a.createElement(f.a,{color:"none",className:"book-mobil-btn",onClick:function(a){e.setPage(1)}},"Sewa Mobil"))),l.a.createElement(b.a,{noGutters:!0,className:"text-center big-img-container"},l.a.createElement(d.a,null)))},E=t(9),h=t(16),v=t.n(h),N=t(24),k=t(78),j=t(82),x=t(83),O=t(84),y=t(79),w=t(38),S=t.n(w),M=t(39),z=t.n(M),T=t(40),P=t.n(T),C=t(41),G=t.n(C),A=t(42),D=t.n(A),J=t(43),I=t.n(J),_=t(44),K=t.n(_),L=function(e){return l.a.createElement("div",{className:"mobil-container"},l.a.createElement(d.a,{className:e.empty?"mobil selecmobil-mobil":"mobil",onClick:function(a){e.empty?e.selectMobil(e.name,e.id):console.log("Tried to select a full mobil")}},l.a.createElement("div",{className:"img-cont"},l.a.createElement("img",{className:"image",src:(e.name,"Avanza"===e.name?S.a:"Xenia"===e.name?z.a:"Grand New Innova"===e.name?P.a:"Grand New Innova Reborn"===e.name?G.a:"Elf Short"===e.name?D.a:"Elf Long"===e.name?I.a:"Hi Ace"===e.name?K.a:void 0),alt:"car"})),l.a.createElement("h2",{className:"text-center mobil-name"},e.name),l.a.createElement("p",{className:"text-center"},"Kapasitas penumpang: ",e.chairs),l.a.createElement("p",{className:"text-center"},"Harga : Rp. ",e.harga),l.a.createElement("p",{className:"text-center"},"Tipe : ",e.tipe),l.a.createElement("p",{className:"text-center"},e.empty?"Tersedia":"Tidak Tersedia")))},R=function(e){var a=Object(n.useState)([]),t=Object(p.a)(a,2),i=t[0],c=t[1],r=Object(n.useState)({mobil:{name:null,id:null},date:new Date,time:null,tipe:"Semua Tipe",size:0}),o=Object(p.a)(r,2),s=o[0],m=o[1],u=Object(n.useState)({name:"",phone:"",email:""}),g=Object(p.a)(u,2),h=g[0],w=g[1],S=Object(n.useState)(["Semua Tipe","MPV","Minibus"]),M=Object(p.a)(S,1)[0],z=Object(n.useState)(["12","24"]),T=Object(p.a)(z,1)[0],P=Object(n.useState)(!1),C=Object(p.a)(P,2),G=C[0],A=C[1],D=function(e){var a=["January","February","March","April","May","June","July","August","September","October","November","December"][s.date.getMonth()]+" "+s.date.getDate()+" "+s.date.getFullYear(),t=s.time.slice(0,-2);return t=s.time>12?t+12+":00":t+":00",console.log(t),new Date(a+" "+t)},J=function(e){return i.filter((function(e){return e.isAvailable})).length};Object(n.useEffect)((function(){s.time&&s.date&&function(){var e=Object(N.a)(v.a.mark((function e(a){var t,n,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=D(),e.next=3,fetch("http://localhost:8080/availability",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:t})});case 3:return n=e.sent,e.next=6,n.json();case 6:n=e.sent,l=n.mobils.filter((function(e){return(!(s.size>0)||e.capacity>=s.size)&&("Semua Tipe"===s.tipe||e.tipe===s.tipe)})),c(l);case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()()}),[s.time,s.date,s.size,s.tipe]);var I=function(){var a=Object(N.a)(v.a.mark((function a(t){var n,l;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(0===h.name.length|0===h.phone.length|0===h.email.length)){a.next=5;break}console.log("Incomplete Details"),A(!0),a.next=14;break;case 5:return n=D(),a.next=8,fetch("http://localhost:8080/reserve",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(E.a)({},h,{date:n,mobil:s.mobil.id}))});case 8:return l=a.sent,a.next=11,l.text();case 11:l=a.sent,console.log("Reserved: "+l),e.setPage(2);case 14:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),_=function(e,a){m(Object(E.a)({},s,{mobil:{name:e,id:a}}))};return l.a.createElement("div",null,l.a.createElement(b.a,{noGutters:!0,className:"text-center align-items-center mb-cta"},l.a.createElement(d.a,null,l.a.createElement("p",{className:"looking-for-mb"},s.mobil.id?"Konfirmasi Pemesanan":"Pilih Mobil",l.a.createElement("i",{className:s.mobil.id?"fas fa-clipboard-check ":"fas fa-chair "})),l.a.createElement("p",{className:"selected-mobil"},s.mobil.id?"Anda Menyewa Mobil "+s.mobil.name:null),G?l.a.createElement("p",{className:"reservation-error"},"* Lengkapi data diri."):null)),s.mobil.id?l.a.createElement("div",{id:"confirm-reservation-stuff"},l.a.createElement(b.a,{noGutters:!0,className:"text-center justify-content-center reservation-details-container"},l.a.createElement(d.a,{xs:"12",sm:"3",className:"reservation-details"},l.a.createElement(y.a,{type:"text",bsSize:"lg",placeholder:"Name",className:"reservation-input",value:h.name,onChange:function(e){w(Object(E.a)({},h,{name:e.target.value}))}})),l.a.createElement(d.a,{xs:"12",sm:"3",className:"reservation-details"},l.a.createElement(y.a,{type:"text",bsSize:"lg",placeholder:"Phone Number",className:"reservation-input",value:h.phone,onChange:function(e){w(Object(E.a)({},h,{phone:e.target.value}))}})),l.a.createElement(d.a,{xs:"12",sm:"3",className:"reservation-details"},l.a.createElement(y.a,{type:"text",bsSize:"lg",placeholder:"Email",className:"reservation-input",value:h.email,onChange:function(e){w(Object(E.a)({},h,{email:e.target.value}))}}))),l.a.createElement(b.a,{noGutters:!0,className:"text-center"},l.a.createElement(d.a,null,l.a.createElement(f.a,{color:"none",className:"book-mobil-btn",onClick:function(e){I()}},"Pesan Sekarang")))):l.a.createElement("div",{id:"reservation-stuff"},l.a.createElement(b.a,{noGutters:!0,className:"text-center align-items-center"},l.a.createElement(d.a,{xs:"12",sm:"3"},l.a.createElement("input",{type:"date",required:"required",className:"booking-dropdown",value:s.date.toISOString().split("T")[0],onChange:function(e){if(isNaN(new Date(new Date(e.target.value)))){console.log("Invalid date");var a=Object(E.a)({},s,{mobil:Object(E.a)({},s.mobil),date:new Date});m(a)}else{var t=Object(E.a)({},s,{mobil:Object(E.a)({},s.mobil),date:new Date(e.target.value)});m(t)}}})),l.a.createElement(d.a,{xs:"12",sm:"3"},l.a.createElement(j.a,null,l.a.createElement(x.a,{color:"none",caret:!0,className:"booking-dropdown"},null===s.time?"Pilih Lama Sewa":s.time),l.a.createElement(O.a,{right:!0,className:"booking-dropdown-menu"},function(e){var a=[];return T.forEach((function(e){a.push(l.a.createElement(k.a,{key:e,className:"booking-dropdown-item",onClick:function(a){var t=Object(E.a)({},s,{mobil:Object(E.a)({},s.mobil),time:e});m(t)}},e))})),a}()," ",l.a.createElement("p",null,"Jam")))),l.a.createElement(d.a,{xs:"12",sm:"3"},l.a.createElement(j.a,null,l.a.createElement(x.a,{color:"none",caret:!0,className:"booking-dropdown"},s.tipe),l.a.createElement(O.a,{right:!0,className:"booking-dropdown-menu"},function(e){var a=[];return M.forEach((function(e){a.push(l.a.createElement(k.a,{key:e,className:"booking-dropdown-item",onClick:function(a){var t=Object(E.a)({},s,{mobil:Object(E.a)({},s.mobil),tipe:e});m(t)}},e))})),a}()))),l.a.createElement(d.a,{xs:"12",sm:"3"},l.a.createElement(j.a,null,l.a.createElement(x.a,{color:"none",caret:!0,className:"booking-dropdown"},0===s.size?"Jumlah Penumpang":s.size.toString()),l.a.createElement(O.a,{right:!0,className:"booking-dropdown-menu"},function(e){for(var a=[],t=function(e){a.push(l.a.createElement(k.a,{key:e,className:"booking-dropdown-item",onClick:function(a){var t=Object(E.a)({},s,{mobil:Object(E.a)({},s.mobil),size:e});m(t)}},e))},n=1;n<20;n++)t(n);return a}())))),l.a.createElement(b.a,{noGutters:!0,className:"mobils-display"},l.a.createElement(d.a,null,J()>0?l.a.createElement("h2",{className:"available-mobils text-center"},J()," Mobil Tersedia"):null,s.date&&s.time?J()>0?l.a.createElement("div",null,l.a.createElement(b.a,{noGutters:!0},function(e){if(console.log("Getting mobils"),J()>0){var a=[];return i.forEach((function(e){e.isAvailable?a.push(l.a.createElement(L,{key:e._id,id:e._id,chairs:e.capacity,name:e.name,tipe:e.tipe,harga:e.harga,empty:!0,selectMobil:_})):a.push(l.a.createElement(L,{key:e._id,id:e._id,chairs:e.capacity,name:e.name,tipe:e.tipe,harga:e.harga,selectMobil:_}))})),a}}())):l.a.createElement("p",{className:"mobil-display-message"},"Mobil sedang tidak tersedia"):l.a.createElement("p",{className:"mobil-display-message"},"Silahkan pilih tanggal dan lama sewa.")))))},W=function(e){return l.a.createElement("div",null,l.a.createElement(b.a,{noGutters:!0,className:"text-center"},l.a.createElement(d.a,null,l.a.createElement("p",{className:"thanks-header"},"Terima Kasih!"),l.a.createElement("i",{className:"fas fa-pizza-slice thank-you-pizza"}),l.a.createElement("p",{className:"thanks-subtext"},"Anda Akan Menerima pesan konfirmasi pemesanan Melalui Whatsapp"))))},q=t(80),B=t(81),F=function(e){return l.a.createElement("div",null,l.a.createElement(q.a,{color:"light",light:!0,expand:"md"},l.a.createElement(B.a,{className:"nav-brand",onClick:function(a){e.setPage(0)}},"Nahwa Travel")))},H=function(e){var a=Object(n.useState)(0),t=Object(p.a)(a,2),i=t[0],c=t[1];return l.a.createElement("div",null,l.a.createElement(F,{setPage:c}),0===i?l.a.createElement(g,{setPage:c}):null,1===i?l.a.createElement(R,{setPage:c}):null,2===i?l.a.createElement(W,null):null)},V=function(e){function a(){return Object(r.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(H,null))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[49,1,2]]]);
//# sourceMappingURL=main.e3f5c587.chunk.js.map