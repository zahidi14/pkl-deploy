(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{51:function(e,a,t){e.exports=t.p+"static/media/avanza.805d3904.png"},52:function(e,a,t){e.exports=t.p+"static/media/xenia.2013f01a.png"},53:function(e,a,t){e.exports=t.p+"static/media/innova.a9145a0e.png"},54:function(e,a,t){e.exports=t.p+"static/media/innova-reborn.98fd7a70.png"},55:function(e,a,t){e.exports=t.p+"static/media/elf-short.b78f4338.jpg"},56:function(e,a,t){e.exports=t.p+"static/media/elf-long.c4f4b445.jpg"},57:function(e,a,t){e.exports=t.p+"static/media/ho-ace.9b3d0cee.jpg"},63:function(e,a,t){e.exports=t(93)},68:function(e,a,t){},70:function(e,a,t){},93:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),i=t(49),r=t.n(i),c=(t(68),t(69),t(27)),o=t(28),m=t(31),s=t(29),u=t(32),d=t(13),b=(t(70),t(94)),p=t(95),f=t(50),E=function(e){return l.a.createElement("div",null,l.a.createElement(b.a,{noGutters:!0,className:"text-center align-items-center mb-cta"},l.a.createElement(p.a,null,l.a.createElement("p",{className:"looking-for-mb"},"Sewa Mobil Nahwa",l.a.createElement("i",{className:"fas fa-mb-slice mb-slice"})),l.a.createElement(f.a,{color:"none",className:"book-mobil-btn",onClick:function(a){e.setPage(1)}},"Sewa Mobil"))),l.a.createElement(b.a,{noGutters:!0,className:"text-center big-img-container"},l.a.createElement(p.a,null)))},h=t(4),g=t(15),v=t.n(g),N=t(24),O=t(96),j=t(101),y=t(102),k=t(103),w=t(97),x=t(51),S=t.n(x),M=t(52),T=t.n(M),z=t(53),A=t.n(z),C=t(54),P=t.n(C),D=t(55),J=t.n(D),G=t(56),I=t.n(G),_=t(57),q=t.n(_),F=function(e){return l.a.createElement("div",{className:"mobil-container"},l.a.createElement(p.a,{className:e.empty?"mobil selecmobil-mobil":"mobil",onClick:function(a){e.empty?e.selectMobil(e.name,e.id):console.log("Tried to select a full mobil")}},l.a.createElement("div",{className:"img-cont"},l.a.createElement("img",{className:"image",src:(e.name,"Avanza"===e.name?S.a:"Xenia"===e.name?T.a:"Grand New Innova"===e.name?A.a:"Grand New Innova Reborn"===e.name?P.a:"Elf Short"===e.name?J.a:"Elf Long"===e.name?I.a:"Hi Ace"===e.name?q.a:void 0),alt:"car"})),l.a.createElement("h2",{className:"text-center mobil-name"},e.name),l.a.createElement("p",{className:"text-center"},"Kapasitas penumpang: ",e.chairs),l.a.createElement("p",{className:"text-center"},"Harga : Rp. ",e.harga),l.a.createElement("p",{className:"text-center"},"Tipe : ",e.tipe),l.a.createElement("p",{className:"text-center"},e.empty?"Tersedia":"Tidak Tersedia")))},H=function(e){var a=Object(n.useState)([]),t=Object(d.a)(a,2),i=t[0],r=t[1],c=Object(n.useState)({mobil:{name:null,id:null},date:new Date,time:null,tipe:"Semua Tipe",size:0}),o=Object(d.a)(c,2),m=o[0],s=o[1],u=Object(n.useState)({name:"",phone:"",email:""}),E=Object(d.a)(u,2),g=E[0],x=E[1],S=Object(n.useState)(["Semua Tipe","MPV","Minibus"]),M=Object(d.a)(S,1)[0],T=Object(n.useState)(["12JAM","24JAM"]),z=Object(d.a)(T,1)[0],A=Object(n.useState)(!1),C=Object(d.a)(A,2),P=C[0],D=C[1],J=function(e){var a=["January","February","March","April","May","June","July","August","September","October","November","December"][m.date.getMonth()]+" "+m.date.getDate()+" "+m.date.getFullYear(),t=m.time.slice(0,-3);return t=m.time>12?t+12+":00":t+":00",console.log(t),new Date(a+" "+t)},G=function(e){return i.filter((function(e){return e.isAvailable})).length};Object(n.useEffect)((function(){m.time&&m.date&&function(){var e=Object(N.a)(v.a.mark((function e(a){var t,n,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=J(),e.next=3,fetch("/availability",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:t})});case 3:return n=e.sent,e.next=6,n.json();case 6:n=e.sent,l=n.mobils.filter((function(e){return(!(m.size>0)||e.capacity>=m.size)&&("Semua Tipe"===m.tipe||e.tipe===m.tipe)})),r(l);case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()()}),[m.time,m.date,m.size,m.tipe]);var I=function(){var a=Object(N.a)(v.a.mark((function a(t){var n,l;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(0===g.name.length|0===g.phone.length|0===g.email.length)){a.next=5;break}console.log("Incomplete Details"),D(!0),a.next=14;break;case 5:return n=J(),a.next=8,fetch("/reserve",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(h.a)({},g,{date:n,mobil:m.mobil.id}))});case 8:return l=a.sent,a.next=11,l.text();case 11:l=a.sent,console.log("Reserved: "+l),e.setPage(2);case 14:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),_=function(e,a){s(Object(h.a)({},m,{mobil:{name:e,id:a}}))};return l.a.createElement("div",null,l.a.createElement(b.a,{noGutters:!0,className:"text-center align-items-center mb-cta"},l.a.createElement(p.a,null,l.a.createElement("p",{className:"looking-for-mb"},m.mobil.id?"Konfirmasi Pemesanan":"Pilih Mobil",l.a.createElement("i",{className:m.mobil.id?"fas fa-clipboard-check ":"fas fa-chair "})),l.a.createElement("p",{className:"selected-mobil"},m.mobil.id?"Anda Menyewa Mobil "+m.mobil.name:null),P?l.a.createElement("p",{className:"reservation-error"},"* Lengkapi data diri."):null)),m.mobil.id?l.a.createElement("div",{id:"confirm-reservation-stuff"},l.a.createElement(b.a,{noGutters:!0,className:"text-center justify-content-center reservation-details-container"},l.a.createElement(p.a,{xs:"12",sm:"3",className:"reservation-details"},l.a.createElement(w.a,{type:"text",bsSize:"lg",placeholder:"Name",className:"reservation-input",value:g.name,onChange:function(e){x(Object(h.a)({},g,{name:e.target.value}))}})),l.a.createElement(p.a,{xs:"12",sm:"3",className:"reservation-details"},l.a.createElement(w.a,{type:"text",bsSize:"lg",placeholder:"Phone Number",className:"reservation-input",value:g.phone,onChange:function(e){x(Object(h.a)({},g,{phone:e.target.value}))}})),l.a.createElement(p.a,{xs:"12",sm:"3",className:"reservation-details"},l.a.createElement(w.a,{type:"text",bsSize:"lg",placeholder:"Email",className:"reservation-input",value:g.email,onChange:function(e){x(Object(h.a)({},g,{email:e.target.value}))}}))),l.a.createElement(b.a,{noGutters:!0,className:"text-center"},l.a.createElement(p.a,null,l.a.createElement(f.a,{color:"none",className:"book-mobil-btn",onClick:function(e){I()}},"Pesan Sekarang")))):l.a.createElement("div",{id:"reservation-stuff"},l.a.createElement(b.a,{noGutters:!0,className:"text-center align-items-center"},l.a.createElement(p.a,{xs:"12",sm:"3"},l.a.createElement("input",{type:"date",required:"required",className:"booking-dropdown",value:m.date.toISOString().split("T")[0],onChange:function(e){if(isNaN(new Date(new Date(e.target.value)))){console.log("Invalid date");var a=Object(h.a)({},m,{mobil:Object(h.a)({},m.mobil),date:new Date});s(a)}else{var t=Object(h.a)({},m,{mobil:Object(h.a)({},m.mobil),date:new Date(e.target.value)});s(t)}}})),l.a.createElement(p.a,{xs:"12",sm:"3"},l.a.createElement(j.a,null,l.a.createElement(y.a,{color:"none",caret:!0,className:"booking-dropdown"},null===m.time?"Pilih Lama Sewa":m.time),l.a.createElement(k.a,{right:!0,className:"booking-dropdown-menu"},function(e){var a=[];return z.forEach((function(e){a.push(l.a.createElement(O.a,{key:e,className:"booking-dropdown-item",onClick:function(a){var t=Object(h.a)({},m,{mobil:Object(h.a)({},m.mobil),time:e});s(t)}},e))})),a}()))),l.a.createElement(p.a,{xs:"12",sm:"3"},l.a.createElement(j.a,null,l.a.createElement(y.a,{color:"none",caret:!0,className:"booking-dropdown"},m.tipe),l.a.createElement(k.a,{right:!0,className:"booking-dropdown-menu"},function(e){var a=[];return M.forEach((function(e){a.push(l.a.createElement(O.a,{key:e,className:"booking-dropdown-item",onClick:function(a){var t=Object(h.a)({},m,{mobil:Object(h.a)({},m.mobil),tipe:e});s(t)}},e))})),a}()))),l.a.createElement(p.a,{xs:"12",sm:"3"},l.a.createElement(j.a,null,l.a.createElement(y.a,{color:"none",caret:!0,className:"booking-dropdown"},0===m.size?"Jumlah Penumpang":m.size.toString()),l.a.createElement(k.a,{right:!0,className:"booking-dropdown-menu"},function(e){for(var a=[],t=function(e){a.push(l.a.createElement(O.a,{key:e,className:"booking-dropdown-item",onClick:function(a){var t=Object(h.a)({},m,{mobil:Object(h.a)({},m.mobil),size:e});s(t)}},e))},n=1;n<20;n++)t(n);return a}())))),l.a.createElement(b.a,{noGutters:!0,className:"mobils-display"},l.a.createElement(p.a,null,G()>0?l.a.createElement("h2",{className:"available-mobils text-center"},G()," Mobil Tersedia"):null,m.date&&m.time?G()>0?l.a.createElement("div",null,l.a.createElement(b.a,{noGutters:!0},function(e){if(console.log("Getting mobils"),G()>0){var a=[];return i.forEach((function(e){e.isAvailable?a.push(l.a.createElement(F,{key:e._id,id:e._id,chairs:e.capacity,name:e.name,tipe:e.tipe,harga:e.harga,empty:!0,selectMobil:_})):a.push(l.a.createElement(F,{key:e._id,id:e._id,chairs:e.capacity,name:e.name,tipe:e.tipe,harga:e.harga,selectMobil:_}))})),a}}())):l.a.createElement("p",{className:"mobil-display-message"},"Mobil sedang tidak tersedia"):l.a.createElement("p",{className:"mobil-display-message"},"Silahkan pilih tanggal dan lama sewa.")))))},L=function(e){return l.a.createElement("div",null,l.a.createElement(b.a,{noGutters:!0,className:"text-center"},l.a.createElement(p.a,null,l.a.createElement("p",{className:"thanks-header"},"Terima Kasih!"),l.a.createElement("i",{className:"fas fa-pizza-slice thank-you-pizza"}),l.a.createElement("p",{className:"thanks-subtext"},"Anda Akan Menerima pesan konfirmasi pemesanan Melalui Whatsapp"))))},K=t(98),R=t(99),W=function(e){return l.a.createElement("div",null,l.a.createElement(K.a,{color:"light",light:!0,expand:"md"},l.a.createElement(R.a,{className:"nav-brand",onClick:function(a){e.setPage(0)}},"Nahwa Travel")))},B=function(e){var a=Object(n.useState)(0),t=Object(d.a)(a,2),i=t[0],r=t[1];return l.a.createElement("div",null,l.a.createElement(W,{setPage:r}),0===i?l.a.createElement(E,{setPage:r}):null,1===i?l.a.createElement(H,{setPage:r}):null,2===i?l.a.createElement(L,null):null)},Y=t(100),V=function(e){return l.a.createElement("tr",null,l.a.createElement("td",null,e.name),l.a.createElement("td",null,e.res),l.a.createElement("td",null,e.hp),l.a.createElement("td",null,e.email),l.a.createElement("td",null,l.a.createElement(f.a,{onClick:function(a){e.empty?e.selectMobil(e.name,e.id):console.log("Tried to select a full mobil")}},"Hapus")))},X=function(e){var a=Object(n.useState)([]),t=Object(d.a)(a,2),i=t[0],r=t[1],c=Object(n.useState)({mobil:{name:null,id:null},date:new Date,time:null,tipe:"Semua Tipe"}),o=Object(d.a)(c,2),m=o[0],s=o[1],u=Object(n.useState)(["12JAM","24JAM"]),f=Object(d.a)(u,1)[0],E=function(e){var a=["January","February","March","April","May","June","July","August","September","October","November","December"][m.date.getMonth()]+" "+m.date.getDate()+" "+m.date.getFullYear(),t=m.time.slice(0,-3);return t=m.time>12?t+12+":00":t+":00",console.log(t),new Date(a+" "+t)},g=function(e){return i.filter((function(e){return e.isAvailable})).length};Object(n.useEffect)((function(){m.time&&m.date&&function(){var e=Object(N.a)(v.a.mark((function e(a){var t,n,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=E(),e.next=3,fetch("http://localhost:3005/availability",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:t})});case 3:return n=e.sent,e.next=6,n.json();case 6:n=e.sent,l=n.mobils.filter((function(e){return(!(m.size>0)||e.capacity>=m.size)&&("Semua Tipe"===m.tipe||e.tipe===m.tipe)})),r(l);case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()()}),[m.time,m.date,m.size,m.tipe]);var w=function(e,a){s(Object(h.a)({},m,{mobil:{name:e,id:a}}))};return l.a.createElement("div",null,m.mobil.id?l.a.createElement("p",null):l.a.createElement("div",{id:"reservation-stuff"},l.a.createElement(b.a,{noGutters:!0,className:"text-center align-items-center"},l.a.createElement(p.a,{xs:"12",sm:"3"},l.a.createElement("input",{type:"date",required:"required",className:"booking-dropdown",value:m.date.toISOString().split("T")[0],onChange:function(e){if(isNaN(new Date(new Date(e.target.value)))){console.log("Invalid date");var a=Object(h.a)({},m,{mobil:Object(h.a)({},m.mobil),date:new Date});s(a)}else{var t=Object(h.a)({},m,{mobil:Object(h.a)({},m.mobil),date:new Date(e.target.value)});s(t)}}})),l.a.createElement(p.a,{xs:"12",sm:"3"},l.a.createElement(j.a,null,l.a.createElement(y.a,{color:"none",caret:!0,className:"booking-dropdown"},null===m.time?"Pilih Lama Sewa":m.time),l.a.createElement(k.a,{right:!0,className:"booking-dropdown-menu"},function(e){var a=[];return f.forEach((function(e){a.push(l.a.createElement(O.a,{key:e,className:"booking-dropdown-item",onClick:function(a){var t=Object(h.a)({},m,{mobil:Object(h.a)({},m.mobil),time:e});s(t)}},e))})),a}())))),l.a.createElement("div",{className:"table-cont"},l.a.createElement(Y.a,{dark:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Mobil"),l.a.createElement("th",null,"Nama Pemesan"),l.a.createElement("th",null,"Nomor Hp"),l.a.createElement("th",null,"Email"),l.a.createElement("th",null,"Action"))),l.a.createElement("tbody",null,m.date&&m.time?g()>0?function(e){if(console.log("Getting mobils"),g()>0){var a=[];return i.forEach((function(e){!1===e.isAvailable?a.push(l.a.createElement(V,{key:e._id,id:e._id,name:e.name,empty:!0,res:e.reservation.name,hp:e.reservation.phone,email:e.reservation.email,selectMobil:w})):a.push(l.a.createElement(V,{key:e._id,id:e._id,chairs:e.capacity,name:e.name,tipe:e.tipe,harga:e.harga,selectMobil:w}))})),a}}():l.a.createElement("tbody",null,"no data"):l.a.createElement("p",{className:"mobil-display-message"},"Silahkan pilih tanggal dan lama sewa."))))))},$=function(e){function a(){return Object(c.a)(this,a),Object(m.a)(this,Object(s.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(K.a,{color:"light",light:!0,expand:"md"},l.a.createElement(R.a,{className:"nav-brand"},"Admin")),l.a.createElement(X,null))}}]),a}(n.Component),Q=t(60),U=t(19),Z=function(e){function a(){return Object(c.a)(this,a),Object(m.a)(this,Object(s.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(Q.a,null,l.a.createElement(U.c,null,l.a.createElement(U.a,{path:"/admin",component:$}),l.a.createElement(U.a,{path:"/",component:B}))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(Z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[63,1,2]]]);
//# sourceMappingURL=main.e09291be.chunk.js.map